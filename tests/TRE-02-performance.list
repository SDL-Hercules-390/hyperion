ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     1

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                     2 ***********************************************************************
                                                     3 *
                                                     4 *            TRE instruction tests
                                                     5 *
                                                     6 *        NOTE: This test is based the CLCL-et-al Test
                                                     7 *              modified to only test the Performance
                                                     8 *              of the TRE instruction.
                                                     9 *
                                                    10 *        James Wekel August 2022
                                                    11 ***********************************************************************
                                                    12 ***********************************************************************
                                                    13 *
                                                    14 *            TRE Performance instruction tests
                                                    15 *
                                                    16 ***********************************************************************
                                                    17 *
                                                    18 *  This program ONLY tests the performance of the TRE
                                                    19 *  instructions.
                                                    20 *        Tests:
                                                    21 *              1. TRE of 512 bytes
                                                    22 *              2. TRE of 512 bytes that crosses a page boundary,
                                                    23 *                 which results in a CC=3, and a branch back
                                                    24 *                 to complete the TRE instruction
                                                    25 *              3. TRE of 2048 bytes
                                                    26 *              4. TRE of 2048 bytes that crosses a page boundary,
                                                    27 *                 which results in a CC=3, and a branch back
                                                    28 *                 to complete the TRE instruction
                                                    29 *
                                                    30 ***********************************************************************
                                                    31 *  NOTE: When assembling using SATK, use the "-t S390" option.
                                                    32 ***********************************************************************
                                                    33 *
                                                    34 *  Example Hercules Testcase:
                                                    35 *
                                                    36 *
                                                    37 *     *Testcase TRE-02-performance (Test TRE instructions)
                                                    38 *
                                                    39 *     archlvl     390
                                                    40 *     mainsize    3
                                                    41 *     numcpu      1
                                                    42 *     sysclear
                                                    43 *
                                                    44 *     loadcore    "$(testpath)/TRE-02-performance"
                                                    45 *
                                                    46 *     r           21fd=ff   # (enable timing tests)
                                                    47 *     runtest     20        # (depends on the host)
                                                    48 *
                                                    49 *     *Done
                                                    50 *
                                                    51 ***********************************************************************
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     2

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                    53          PRINT OFF
                                                  3434          PRINT ON

                                                  3436 ***********************************************************************
                                                  3437 *        SATK prolog stuff...
                                                  3438 ***********************************************************************

                                                  3440          ARCHLVL  ZARCH=NO,MNOTE=NO
                                                  3442+$AL      OPSYN AL
                                                  3443+$ALR     OPSYN ALR
                                                  3444+$B       OPSYN B
                                                  3445+$BAS     OPSYN BAS
                                                  3446+$BASR    OPSYN BASR
                                                  3447+$BC      OPSYN BC
                                                  3448+$BCTR    OPSYN BCTR
                                                  3449+$BE      OPSYN BE
                                                  3450+$BH      OPSYN BH
                                                  3451+$BL      OPSYN BL
                                                  3452+$BM      OPSYN BM
                                                  3453+$BNE     OPSYN BNE
                                                  3454+$BNH     OPSYN BNH
                                                  3455+$BNL     OPSYN BNL
                                                  3456+$BNM     OPSYN BNM
                                                  3457+$BNO     OPSYN BNO
                                                  3458+$BNP     OPSYN BNP
                                                  3459+$BNZ     OPSYN BNZ
                                                  3460+$BO      OPSYN BO
                                                  3461+$BP      OPSYN BP
                                                  3462+$BXLE    OPSYN BXLE
                                                  3463+$BZ      OPSYN BZ
                                                  3464+$CH      OPSYN CH
                                                  3465+$L       OPSYN L
                                                  3466+$LH      OPSYN LH
                                                  3467+$LM      OPSYN LM
                                                  3468+$LPSW    OPSYN LPSW
                                                  3469+$LR      OPSYN LR
                                                  3470+$LTR     OPSYN LTR
                                                  3471+$NR      OPSYN NR
                                                  3472+$SL      OPSYN SL
                                                  3473+$SLR     OPSYN SLR
                                                  3474+$SR      OPSYN SR
                                                  3475+$ST      OPSYN ST
                                                  3476+$STM     OPSYN STM
                                                  3477+$X       OPSYN X
                                                  3478+$AHI     OPSYN AHI
                                                  3479+$B       OPSYN J
                                                  3480+$BC      OPSYN BRC
                                                  3481+$BE      OPSYN JE
                                                  3482+$BH      OPSYN JH
                                                  3483+$BL      OPSYN JL
                                                  3484+$BM      OPSYN JM
                                                  3485+$BNE     OPSYN JNE
                                                  3486+$BNH     OPSYN JNH
                                                  3487+$BNL     OPSYN JNL
                                                  3488+$BNM     OPSYN JNM
                                                  3489+$BNO     OPSYN JNO
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     3

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  3490+$BNP     OPSYN JNP
                                                  3491+$BNZ     OPSYN JNZ
                                                  3492+$BO      OPSYN JO
                                                  3493+$BP      OPSYN JP
                                                  3494+$BXLE    OPSYN JXLE
                                                  3495+$BZ      OPSYN JZ
                                                  3496+$CHI     OPSYN CHI
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     4

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  3498 ***********************************************************************
                                                  3499 *        Initiate the TRE02TST CSECT in the CODE region
                                                  3500 *        with the location counter at 0
                                                  3501 ***********************************************************************

                                                  3503 TRE02TST ASALOAD  REGION=CODE
                              00000000  000021FF  3504+TRE02TST START 0,CODE
00000000  000A0000 00000008                       3506+         PSW   0,0,2,0,X'008'      64-bit Restart ISR Trap New PSW
00000008                      00000008  00000058  3507+         ORG   TRE02TST+X'058'
00000058  000A0000 00000018                       3509+         PSW   0,0,2,0,X'018'      64-bit External ISR Trap New PSW
00000060  000A0000 00000020                       3510+         PSW   0,0,2,0,X'020'      64-bit Supervisor Call ISR Trap New PSW
00000068  000A0000 00000028                       3511+         PSW   0,0,2,0,X'028'      64-bit Program ISR Trap New PSW
00000070  000A0000 00000030                       3512+         PSW   0,0,2,0,X'030'      64-bit Machine Check Trap New PSW
00000078  000A0000 00000038                       3513+         PSW   0,0,2,0,X'038'      64-bit Input/Output Trap New PSW
00000080                      00000080  00000200  3514+         ORG   TRE02TST+512



                                                  3516 ***********************************************************************
                                                  3517 *        Create IPL (restart) PSW
                                                  3518 ***********************************************************************

                                                  3520          ASAIPL   IA=BEGIN
                              00000000  000021FF  3521+TRE02TST CSECT
00000200                      00000200  00000000  3522+         ORG   TRE02TST
00000000  00080000 00000200                       3523+         PSW   0,0,0,0,BEGIN,24
00000008                      00000008  00000200  3524+         ORG   TRE02TST+512     Reset CSECT to end of assigned storage area
                              00000000  000021FF  3525+TRE02TST CSECT
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     5

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  3527 ***********************************************************************
                                                  3528 *               The actual "TRE02TST" program itself...
                                                  3529 ***********************************************************************
                                                  3530 *
                                                  3531 *  Architecture Mode: 390
                                                  3532 *  Addressing Mode:   31-bit
                                                  3533 *  Register Usage:
                                                  3534 *
                                                  3535 *   R0       (work)
                                                  3536 *   R1       I/O device used by ENADEV and RAWIO macros
                                                  3537 *   R2       First base register
                                                  3538 *   R3       IOCB pointer for ENADEV and RAWIO macros
                                                  3539 *   R4       IO work register used by ENADEV and RAWIO
                                                  3540 *   R5-R7    (work)
                                                  3541 *   R8       ORB pointer
                                                  3542 *   R9       Second base register
                                                  3543 *   R10-R13  (work)
                                                  3544 *   R14      Subroutine call
                                                  3545 *   R15      Secondary Subroutine call or work
                                                  3546 *
                                                  3547 ***********************************************************************

00000200                      00000000            3549          USING  ASA,R0          Low core addressability
00000200                      00000200            3550          USING  BEGIN,R2        FIRST Base Register
00000200                      00001200            3551          USING  BEGIN+4096,R9   SECOND Base Register
00000200                      00000000            3552          USING  IOCB,R3         SATK Device I/O Control Block
00000200                      00000000            3553          USING  ORB,R8          ESA/390 Operation Request Block

00000200  0520                                    3555 BEGIN    BALR  R2,0             Initalize FIRST base register
00000202  0620                                    3556          BCTR  R2,0             Initalize FIRST base register
00000204  0620                                    3557          BCTR  R2,0             Initalize FIRST base register
00000206  5020 203C                     0000023C  3558          ST    R2,SAVER2

0000020A  4190 2800                     00000800  3560          LA    R9,2048(,R2)     Initalize SECOND base register
0000020E  4190 9800                     00000800  3561          LA    R9,2048(,R9)     Initalize SECOND base register

00000212  45E0 2A18                     00000C18  3563          BAL   R14,INIT         Initalize Program
                                                  3564 *
                                                  3565 **       Run the tests...
                                                  3566 *
00000216  45E0 2050                     00000250  3567          BAL   R14,TEST91       Time TRE   instruction  (speed test)
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     6

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  3569 ***********************************************************************
                                                  3570 *         Test for normal or unexpected test completion...
                                                  3571 ***********************************************************************

0000021A  95FF 9FFD                     000021FD  3573          CLI   TIMEOPT,X'FF'    Was this a timing run?
0000021E  4770 2A2A                     00000C2A  3574          BNE   EOJ              No, timing run; just go end normally

00000222  9594 9FFE                     000021FE  3576          CLI   TESTNUM,X'94'    Did we end on expected test?
00000226  4770 2A58                     00000C58  3577          BNE   FAILTEST         No?! Then FAIL the test!

0000022A  9500 9FFF                     000021FF  3579          CLI   SUBTEST,X'00'    Did we end on expected SUB-test?
0000022E  4770 2A58                     00000C58  3580          BNE   FAILTEST         No?! Then FAIL the test!

00000232  47F0 2A2A                     00000C2A  3582          B     EOJ              Yes, then normal completion!



00000238  00000000                                3584 SAVER1   DC    F'0'
0000023C  00000000                                3585 SAVER2   DC    F'0'
00000240  00000000                                3586 SAVER5   DC    F'0'
00000248  00000000 00000000                       3587 SAVETRT  DC    D'0'               (saved R1/R2 from TRT results)



00000250                                          3589          DROP  R15
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     7

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  3591 ***********************************************************************
                                                  3592 *        TEST91                 Time TRE instruction  (speed test)
                                                  3593 ***********************************************************************

00000250  91FF 9FFD                     000021FD  3595 TEST91   TM    TIMEOPT,X'FF'    Is timing tests option enabled?
00000254  078E                                    3596          BZR   R14              No, skip timing tests

00000256  4150 2BF0                     00000DF0  3598          LA    R5,TREPERF         Point R5 --> testing control table
0000025A                      00000000            3599          USING TRETEST,R5         What each table entry looks like
                                                  3600 *
                              0000025A  00000001  3601 TST91LOP EQU   *
0000025A  5050 2040                     00000240  3602          ST    R5,SAVER5          save current pref table base
                                                  3603 *
0000025E  4360 5000                     00000000  3604          IC    R6,TNUM            Set test number
00000262  4260 9FFE                     000021FE  3605          STC   R6,TESTNUM
                                                  3606 *
                                                  3607 **       Initialize operand data  (move data to testing address)
                                                  3608 *
00000266  58A0 500C                     0000000C  3609          L     R10,OP1WHERE       Where to move operand-1 data to
0000026A  58B0 5010                     00000010  3610          L     R11,OP1LEN           operand-1 length
0000026E  5860 5004                     00000004  3611          L     R6,OP1DATA         Where op1 data is right now
00000272  5870 5010                     00000010  3612          L     R7,OP1LEN          How much of it there is
00000276  0EA6                                    3613          MVCL  R10,R6
                                                  3614 *
00000278  58C0 5014                     00000014  3615          L     R12,OP2WHERE       Where to move operand-2 data to
0000027C  58D0 2B44                     00000D44  3616          L     R13,=A(OP2LEN)     How much of it there is
00000280  5860 5008                     00000008  3617          L     R6,OP2DATA         Where op2 data is right now
00000284  5870 2B44                     00000D44  3618          L     R7,=A(OP2LEN)          How much of it there is
00000288  0EC6                                    3619          MVCL  R12,R6
                                                  3620 *
0000028A  4300 5001                     00000001  3621          IC    R0,TBYTE           Set test byte


                                                  3623 **       Next, time the overhead...

0000028E  5870 2B5C                     00000D5C  3625          L     R7,NUMLOOPS
00000292  B205 2B60                     00000D60  3626          STCK  BEGCLOCK
00000296  0560                                    3627          BALR  R6,0

00000298  98AC 500C                     0000000C  3629          LM    R10,R12,OPSWHERE     get TRE operands
0000029C  B2A5 00AC                               3630          TRE   R10,R12                do TRE
000002A0  4710 209C                     0000029C  3631          BC    B'0001',*-4            not finished
000002A4  98AC 500C                     0000000C  3632          LM    R10,R12,OPSWHERE
000002A8  4710 20AC                     000002AC  3633          BC    B'0001',*+4
                                                  3634 *        .........ETC.........
                                                  3635          PRINT OFF
                                                  3830          PRINT ON
000005AC  98AC 500C                     0000000C  3831          LM    R10,R12,OPSWHERE
000005B0  4710 23B4                     000005B4  3832          BC    B'0001',*+4
000005B4  98AC 500C                     0000000C  3833          LM    R10,R12,OPSWHERE
000005B8  4710 23BC                     000005BC  3834          BC    B'0001',*+4
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     8

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

000005BC  0676                                    3836          BCTR  R7,R6
000005BE  B205 2B68                     00000D68  3837          STCK  ENDCLOCK
000005C2  45F0 298C                     00000B8C  3838          BAL   R15,CALCDUR
000005C6  D207 2B78 2B70      00000D78  00000D70  3839          MVC   OVERHEAD,DURATION
                                                  3840 *
                                                  3841 **       Now do the actual timing run...
                                                  3842 *
000005CC  5870 2B5C                     00000D5C  3843          L     R7,NUMLOOPS
000005D0  B205 2B60                     00000D60  3844          STCK  BEGCLOCK
000005D4  0560                                    3845          BALR  R6,0

000005D6  98AC 500C                     0000000C  3847          LM    R10,R12,OPSWHERE           Load TRE operands
000005DA  B2A5 00AC                               3848          TRE   R10,R12                       do TRE
000005DE  4710 23DA                     000005DA  3849          BC    B'0001',*-4                   not finished?
000005E2  98AC 500C                     0000000C  3850          LM    R10,R12,OPSWHERE           Load TRE operands
000005E6  B2A5 00AC                               3851          TRE   R10,R12                       do TRE
000005EA  4710 23E6                     000005E6  3852          BC    B'0001',*-4                   not finished?
                                                  3853 *        .........ETC.........
                                                  3854          PRINT OFF
                                                  4155          PRINT ON
00000A6E  98AC 500C                     0000000C  4156          LM    R10,R12,OPSWHERE
00000A72  B2A5 00AC                               4157          TRE   R10,R12
00000A76  4710 2872                     00000A72  4158          BC    B'0001',*-4
00000A7A  98AC 500C                     0000000C  4159          LM    R10,R12,OPSWHERE
00000A7E  B2A5 00AC                               4160          TRE   R10,R12
00000A82  4710 287E                     00000A7E  4161          BC    B'0001',*-4


00000A86  0676                                    4163          BCTR  R7,R6
00000A88  B205 2B68                     00000D68  4164          STCK  ENDCLOCK

00000A8C  D204 2BC1 2B50      00000DC1  00000D50  4166          MVC   PRTLINE+33(5),=CL5'TRE'
00000A92  45F0 28B2                     00000AB2  4167          BAL   R15,RPTSPEED

                                                  4169 *  more performance tests

00000A96  5850 2040                     00000240  4171          L     R5,SAVER5          restore perf table base
00000A9A  4150 5024                     00000024  4172          LA    R5,TRENEXT         Go on to next table entry
00000A9E  D503 2B48 5000      00000D48  00000000  4173          CLC   =F'0',0(R5)        End of table?
00000AA4  4770 205A                     0000025A  4174          BNE   TST91LOP           No, loop...

00000AA8  5810 2038                     00000238  4176          L     R1,SAVER1          Restore register 1
00000AAC  5820 203C                     0000023C  4177          L     R2,SAVER2          Restore first base register
00000AB0  07FE                                    4178          BR    R14                Return to caller or FAILTEST
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page     9

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4180 ***********************************************************************
                                                  4181 *        RPTSPEED                 Report instruction speed
                                                  4182 ***********************************************************************

00000AB2  50F0 2988                     00000B88  4184 RPTSPEED ST    R15,RPTSAVE        Save return address
00000AB6  45F0 298C                     00000B8C  4185          BAL   R15,CALCDUR        Calculate duration
                                                  4186 *
00000ABA  4150 2B78                     00000D78  4187          LA    R5,OVERHEAD        Subtract overhead
00000ABE  4160 2B70                     00000D70  4188          LA    R6,DURATION        From raw timing
00000AC2  4170 2B70                     00000D70  4189          LA    R7,DURATION        Yielding true instruction timing
00000AC6  45F0 29E0                     00000BE0  4190          BAL   R15,SUBDWORD       Do it
                                                  4191 *
00000ACA  98CD 2B70                     00000D70  4192          LM    R12,R13,DURATION   Convert to...
00000ACE  8CC0 000C                     0000000C  4193          SRDL  R12,12             ... microseconds
                                                  4194 *
00000AD2  4EC0 2B80                     00000D80  4195          CVD   R12,TICKSAAA       convert HIGH part to decimal
00000AD6  4ED0 2B88                     00000D88  4196          CVD   R13,TICKSBBB       convert LOW  part to decimal
                                                  4197 *
00000ADA  F877 2B90 2B80      00000D90  00000D80  4198          ZAP   TICKSTOT,TICKSAAA            Calculate...
00000AE0  FC75 2B90 2B55      00000D90  00000D55  4199          MP    TICKSTOT,=P'4294967296'      ...decimal...
00000AE6  FA77 2B90 2B88      00000D90  00000D88  4200          AP    TICKSTOT,TICKSBBB            ...microseconds
                                                  4201 *
00000AEC  D20B 2BCB 2BE4      00000DCB  00000DE4  4202          MVC   PRTLINE+43(L'EDIT),EDIT          (edit into...
00000AF2  DE0B 2BCB 2B93      00000DCB  00000D93  4203          ED    PRTLINE+43(L'EDIT),TICKSTOT+3     ...print line)






                                                  4205          RAWIO 4,FAIL=FAILIO      Print elapsed time on console
00000AF8  9200 300E                     0000000E  4206+         MVI   IOCBSC,X'00'          Clear SC information
00000AFC  D201 300A 3006      0000000A  00000006  4207+         MVC   IOCBST,IOCBZERO       Clear accumulated status
00000B02  5810 3000                     00000000  4208+         L     1,IOCBDID             Remember the device ID with which I am working
                                                  4209+* Initiate Subchannel-based input/output operation
00000B06  5840 3018                     00000018  4210+         $L    4,IOCBORB             Locate the ORB for the channel subsystem
00000B0A  B233 4000                     00000000  4211+         SSCH  0(4)                  Initiate the I/O operation
00000B0E  A774 009D                     00000C48  4212+         $BC   B'0111',FAILIO        ..Start function failed, report/handle the error
00000B12  5840 3020                     00000020  4213+         $L    4,IOCBIRB             Locate the IRB storage area
00000B16                      00000000            4214+         USING IRB,4                 Make it addressable

                                                  4216+* Wait for I/O operation to present status via an interruption
00000B16                                          4217+IOWT0007 DS    0H  Wait for I/O to complete
00000B16  D207 2938 0078      00000B38  00000078  4219+         MVC   IOS0008(8),120(0)               Save Input/Output new PSW
00000B1C  D207 0078 2930      00000078  00000B30  4220+         MVC   120(8,0),ION0008               Establish Input/Ouput new PSW
00000B22  8200 2928                     00000B28  4221+         $LPSW WPSW0008                       Wait for event
00000B28  020A0000 00000000                       4222+WPSW0008 PSW   2,0,2,0,0                      Wait for event
00000B30  00082000 00000B40                       4223+ION0008  PSW   0,0,0,32,IRST0008,24                I/O New PSW: cc==2
00000B38  00000000 00000000                       4224+IOS0008  DC    XL8'00'
                                                  4225+* Handle input/output interruption
00000B40                                          4226+IRST0008 DS    0H
00000B40  D207 0078 2938      00000078  00000B38  4227+         MVC   120(8,0),IOS0008             Restore input/output new PSW
                                                  4228+* Process the interruption...
                                                  4229+* Validate interruption is for the expected subchannel
00000B46  5510 00B8                     000000B8  4230+         CL    1,IOSSID              Is this the device for which I am waiting?
00000B4A  A774 FFE6                     00000B16  4231+         $BNE  IOWT0007              ..No, continue waiting for it
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    10

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4232+* Accumulate interruption information from IRB
00000B4E  B235 4000                     00000000  4233+         TSCH  0(4)                  Retrive interrupt information
00000B52  A744 FFE2                     00000B16  4234+         $BC   B'0100',IOWT0007      CC1 (not status pending), wait for it to arrive
00000B56  A714 0079                     00000C48  4235+         $BC   B'0001',FAILIO        CC3 (not operational), an error then
                                                  4236+*                                    CC0 (status was pending), accumulate the status
00000B5A  D600 300E 4003      0000000E  00000003  4237+         OC    IOCBSC,IRBSCSW+SCSW2  Accumulate status control
00000B60  D601 300A 4008      0000000A  00000008  4238+         OC    IOCBST,IRBSCSW+SCSWUS Accumulate device and channel status
00000B66  9104 300E                     0000000E  4239+         TM    IOCBSC,SCSWSPRI       Primary subchannel status?
00000B6A  A7E4 FFD6                     00000B16  4240+         $BNO  IOWT0007              ..No, wait for primary status
00000B6E  D203 3010 4004      00000010  00000004  4241+         MVC   IOCBSCCW,IRBSCSW+SCSWCCW  CCW address
00000B74  D201 3016 400A      00000016  0000000A  4242+         MVC   IOCBRCNT,IRBSCSW+SCSWCNT  Residual count
                                                  4243+* Test for errors as specified in the IOCB
00000B7A  910C 300A                     0000000A  4244+         TM    IOCBUS,CSWCE+CSWDE    Channel end and device end both accumulated?
00000B7E  A7E4 0065                     00000C48  4245+         $BNO  FAILIO                Hunh? No CE and DE but do have primary status!
                                                  4246+* Input/Output operation successful


00000B82  58F0 2988                     00000B88  4248          L     R15,RPTSAVE        Restore return address
00000B86  07FF                                    4249          BR    R15                Return to caller

00000B88  00000000                                4251 RPTSAVE  DC    F'0'               R15 save area
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    11

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4253 ***********************************************************************
                                                  4254 *        CALCDUR                  Calculate DURATION
                                                  4255 ***********************************************************************

00000B8C  50F0 29D0                     00000BD0  4257 CALCDUR  ST    R15,CALCRET        Save return address
00000B90  9057 29D4                     00000BD4  4258          STM   R5,R7,CALCWORK     Save work registers
                                                  4259 *
00000B94  9867 2B60                     00000D60  4260          LM    R6,R7,BEGCLOCK     Remove CPU number from clock value
00000B98  8C60 0006                     00000006  4261          SRDL  R6,6                            "
00000B9C  8D60 0006                     00000006  4262          SLDL  R6,6                            "
00000BA0  9067 2B60                     00000D60  4263          STM   R6,R7,BEGCLOCK                  "
                                                  4264 *
00000BA4  9867 2B68                     00000D68  4265          LM    R6,R7,ENDCLOCK     Remove CPU number from clock value
00000BA8  8C60 0006                     00000006  4266          SRDL  R6,6                            "
00000BAC  8D60 0006                     00000006  4267          SLDL  R6,6                            "
00000BB0  9067 2B68                     00000D68  4268          STM   R6,R7,ENDCLOCK                  "
                                                  4269 *
00000BB4  4150 2B60                     00000D60  4270          LA    R5,BEGCLOCK        Starting time
00000BB8  4160 2B68                     00000D68  4271          LA    R6,ENDCLOCK        Ending time
00000BBC  4170 2B70                     00000D70  4272          LA    R7,DURATION        Difference
00000BC0  45F0 29E0                     00000BE0  4273          BAL   R15,SUBDWORD       Calculate duration
                                                  4274 *
00000BC4  9857 29D4                     00000BD4  4275          LM    R5,R7,CALCWORK     Restore work registers
00000BC8  58F0 29D0                     00000BD0  4276          L     R15,CALCRET        Restore return address
00000BCC  07FF                                    4277          BR    R15                Return to caller

00000BD0  00000000                                4279 CALCRET  DC    F'0'               R15 save area
00000BD4  00000000 00000000                       4280 CALCWORK DC    3F'0'              R5-R7 save area




                                                  4282 ***********************************************************************
                                                  4283 *        SUBDWORD                 Subtract two doublewords
                                                  4284 *        R5 --> subtrahend, R6 --> minuend, R7 --> result
                                                  4285 ***********************************************************************

00000BE0  90AD 2A08                     00000C08  4287 SUBDWORD STM   R10,R13,SUBDWSAV   Save registers
                                                  4288 *
00000BE4  98AB 5000                     00000000  4289          LM    R10,R11,0(R5)      Subtrahend  (value to subtract)
00000BE8  98CD 6000                     00000000  4290          LM    R12,R13,0(R6)      Minuend     (what to subtract FROM)
00000BEC  1FDB                                    4291          SLR   R13,R11            Subtract LOW part
00000BEE  47B0 29F6                     00000BF6  4292          BNM   *+4+4              (branch if no borrow)
00000BF2  5FC0 2B4C                     00000D4C  4293          SL    R12,=F'1'          (otherwise do borrow)
00000BF6  1FCA                                    4294          SLR   R12,R10            Subtract HIGH part
00000BF8  90CD 7000                     00000000  4295          STM   R12,R13,0(R7)      Store results
                                                  4296 *
00000BFC  98AD 2A08                     00000C08  4297          LM    R10,R13,SUBDWSAV   Restore registers
00000C00  07FF                                    4298          BR    R15                Return to caller

00000C08  00000000 00000000                       4300 SUBDWSAV DC    2D'0'              R10-R13 save area
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    12

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4302 ***********************************************************************
                                                  4303 *        Program Initialization
                                                  4304 ***********************************************************************

00000C18                                          4306 INIT     DS     0H              Program Initialization

00000C18  4130 2AC8                     00000CC8  4308          LA     R3,IOCB_009     Point to IOCB
00000C1C  5880 3018                     00000018  4309          L      R8,IOCBORB      Point to ORB

00000C20  45F0 2A68                     00000C68  4311          BAL    R15,IOINIT      Initialize the CPU for I/O operations
00000C24  45F0 2A76                     00000C76  4312          BAL    R15,ENADEV      Enable our device making ready for use
00000C28  07FE                                    4313          BR     R14             Return to caller





ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    13

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4316 ***********************************************************************
                                                  4317 *        Normal completion or Abnormal termination PSWs
                                                  4318 ***********************************************************************





                                                  4320 EOJ      DWAITEND LOAD=YES          Normal completion
00000C2A                                          4322+EOJ      DS    0H
00000C2A  8200 2A30                     00000C30  4323+         LPSW  DWAT0010
00000C30  000A0000 00000000                       4324+DWAT0010 PSW   0,0,2,0,X'000000'





                                                  4326 FAILDEV  DWAIT LOAD=YES,CODE=01     ENADEV failed
00000C38                                          4327+FAILDEV  DS    0H
00000C38  8200 2A40                     00000C40  4328+         LPSW  DWAT0011
00000C40  000A0000 00010001                       4329+DWAT0011 PSW   0,0,2,0,X'010001'





                                                  4331 FAILIO   DWAIT LOAD=YES,CODE=02     RAWIO failed
00000C48                                          4332+FAILIO   DS    0H
00000C48  8200 2A50                     00000C50  4333+         LPSW  DWAT0012
00000C50  000A0000 00010002                       4334+DWAT0012 PSW   0,0,2,0,X'010002'





                                                  4336 FAILTEST DWAIT LOAD=YES,CODE=BAD    Abnormal termination
00000C58                                          4337+FAILTEST DS    0H
00000C58  8200 2A60                     00000C60  4338+         LPSW  DWAT0013
00000C60  000A0000 00010BAD                       4339+DWAT0013 PSW   0,0,2,0,X'010BAD'
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    14

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4341 ***********************************************************************
                                                  4342 *        Initialize the CPU for I/O operations
                                                  4343 ***********************************************************************


                                                  4345 IOINIT   IOINIT ,
00000C68  B766 2A70                     00000C70  4346+IOINIT   LCTL  6,6,IOMK0014       Enable subchannel subclasses for interruptions
00000C6C  47F0 2A74                     00000C74  4347+         B     IOMK0014+4
00000C70                                          4348+IOMK0014 DS    0F
00000C70  FF000000                                4349+         DC    XL4'FF000000'         All subchannel subclasses enabled


00000C74  07FF                                    4351          BR    R15                Return to caller






                                                  4353 ***********************************************************************
                                                  4354 *        Enable the device, making it ready for use
                                                  4355 ***********************************************************************


                                                  4357 ENADEV   ENADEV ENAOKAY,FAILDEV,REG=4
00000C76  5810 2ABC                     00000CBC  4358+ENADEV   L     1,FIND0015
00000C7A  5840 3028                     00000028  4359+         $L    4,IOCBSIB          Locate where the SCHIB is to be stored
00000C7E                      00000000            4360+         USING SCHIB,4
00000C7E                                          4361+FINL0015 DS    0H   Retrieve Subchannel Information Block for desired device number
00000C7E  B234 4000                     00000000  4362+         STSCH 0(4)               Store the SCHIB for first subchannel
00000C82  A774 FFDB                     00000C38  4363+         $BC   B'0111',FAILDEV    Subchannel does not exist and device number not found
00000C86  9101 4005                     00000005  4364+         TM    PMCW1_8,PMCWV      Is the subchannel device number valid?
00000C8A  A784 0011                     00000CAC  4365+         $BZ   FINN0015           ..No, check the next subchannel
00000C8E  D501 4006 3004      00000006  00000004  4366+         CLC   PMCWDNUM,IOCBDEV   Is this the device number being sought?
00000C94  A774 000C                     00000CAC  4367+         $BNE  FINN0015           ..No, check the next subchannel
                                                  4368+* Subchannel found!
00000C98  5010 3000                     00000000  4369+         ST    1,IOCBDID          Remember the subchannel so I/O can be done to it.
00000C9C  9680 4005                     00000005  4370+         OI    PMCW1_8,PMCWE      Make sure it is enabled so I/O requests accepted
00000CA0  B232 4000                     00000000  4371+         MSCH  0(4)               Enable the subchannel to the channel sub-system
00000CA4  A784 0010                     00000CC4  4372+         $BC   B'1000',ENAOKAY    CC0 (SCHIB updated), device is ready.
00000CA8  A7F4 FFC8                     00000C38  4373+         $B    FAILDEV            CC1,CC2,CC3 (SCHIB update failed), quit
00000CAC                                          4374+FINN0015 DS    0H  Advance to next subchannel
00000CAC  4110 1001                     00000001  4375+         LA    1,1(0,1)           Advance to next subchannel
00000CB0  5510 2AC0                     00000CC0  4376+         CL    1,FINM0015         Beyond maximum subchannel
00000CB4  A7D4 FFE5                     00000C7E  4377+         $BNH  FINL0015           ..No, examine the next subchannel
00000CB8  A724 FFC0                     00000C38  4378+         $BH   FAILDEV            ..Yes, failed to enable the device
00000CBC                                          4379+         DROP  4                  Forget SCHIB addressing
00000CBC  00010000                                4380+FIND0015 DC    A(X'00010000')     First subchannel subsystem ID
00000CC0  0001FFFF                                4381+FINM0015 DC    A(X'0001FFFF')     Last subchannel subsystem ID


00000CC4  07FF                                    4383 ENAOKAY  BR    R15                Return to caller
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    15

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4385 ***********************************************************************
                                                  4386 *         Structure used by RAWIO identifying
                                                  4387 *         the device and operation being performed
                                                  4388 ***********************************************************************


                                                  4390 IOCB_009 IOCB  X'009',CCW=CONPGM
00000CC8  00000000                                4391+IOCB_009 DC    A(0)            +0 Device Identifier (supplied by ENADEV macro)
00000CCC  0009                                    4392+         DC    AL2(X'009')     +4 Device address or device number
00000CCE  0000                                    4393+         DC    H'0'            +6 Must be zeros
00000CD0  D3                                      4394+         DC    AL1(X'D3')      +8 Default detected unit errors
00000CD1  3F                                      4395+         DC    AL1(X'3F')      +9 Default detected channel errors
00000CD2  0000                                    4396+         DC    HL2'0'          +10 Accumulated unit and channel errors
00000CD4  0000                                    4397+         DC    HL2'0'          +12 Tested unit and channel status
00000CD6  00                                      4398+         DC    XL1'00'         +14 Accumulated subchannel status control from SCSW
00000CD7  80                                      4399+         DC    XL1'80'         +15 Default unsoliticed wait condition
00000CD8  00000000                                4400+         DC    F'0'            +16 I/O status CCW address
00000CDC  00000000                                4401+         DC    F'0'            +20 residual count
00000CE0  00000D38                                4402+         DC    A(IORB0016)     +24  Address where ORB is located
00000CE4  00000000                                4403+         DC    A(0)            +28  reserved
00000CE8  00000CF8                                4404+         DC    A(IIRB0016)     +32 Address where IRB stored
00000CEC  00000000                                4405+         DC    A(0)            +36 reserved
00000CF0  00000CF8                                4406+         DC    A(IIRB0016)     +40 Address where SCHIB stored
00000CF4  00000000                                4407+         DC    A(0)            +44 reserved
00000CF8  00000000 00000000                       4408+IIRB0016 DC    16F'0'              Embedded shared IRB and SCHIB area
00000D38                                          4410+IORB0016 DS    0XL12
00000D38  00000000                                4411+         DC    A(0)                         Word 0 - Interruption Parameter
00000D3C  00                                      4412+         DC    AL1((0)*16+B'0000')          Word 1, bits 0-7
00000D3D  80                                      4413+         DC    BL1'10000000'                Word 1, bits 8-15
00000D3E  FF                                      4414+         DC    AL1(255)                     Word 1, bits 16-23
00000D3F  00                                      4415+         DC    BL1'00000000'                 Word 1, bits 24-31
00000D40  00000D98                                4416+         DC    AL4(CONPGM)                  Word 2 - CCW address
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    16

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4418 ***********************************************************************
                                                  4419 *        Working Storage
                                                  4420 ***********************************************************************


00000D44                                          4422          LTORG ,                Literals pool
00000D44  00000100                                4423                =A(OP2LEN)
00000D48  00000000                                4424                =F'0'
00000D4C  00000001                                4425                =F'1'
00000D50  E3D9C540 40                             4426                =CL5'TRE'
00000D55  04294967 296C                           4427                =P'4294967296'

                              00000400  00000001  4429 K        EQU   1024             One KB
                              00001000  00000001  4430 PAGE     EQU   (4*K)            Size of one page
                              00010000  00000001  4431 K64      EQU   (64*K)           64 KB
                              00100000  00000001  4432 MB       EQU   (K*K)             1 MB

                              000021FE  00000001  4434 TESTADDR EQU   (2*PAGE+X'200'-2)  Where test/subtest numbers will go
                              000021FD  00000001  4435 TIMEADDR EQU   (TESTADDR-1)       Address of timing tests option flag

00000D5C  00002710                                4437 NUMLOOPS DC    F'10000'         10,000 * 100 = 1,000,000

00000D60  BBBBBBBB BBBBBBBB                       4439 BEGCLOCK DC    0D'0',8X'BB'     Begin
00000D68  EEEEEEEE EEEEEEEE                       4440 ENDCLOCK DC    0D'0',8X'EE'     End
00000D70  DDDDDDDD DDDDDDDD                       4441 DURATION DC    0D'0',8X'DD'     Diff
00000D78  FFFFFFFF FFFFFFFF                       4442 OVERHEAD DC    0D'0',8X'FF'     Overhead

00000D80  00000000 0000000C                       4444 TICKSAAA DC    PL8'0'           Clock ticks high part
00000D88  00000000 0000000C                       4445 TICKSBBB DC    PL8'0'           Clock ticks low part
00000D90  00000000 0000000C                       4446 TICKSTOT DC    PL8'0'           Total clock ticks

00000D98  09000044 00000DA0                       4448 CONPGM   CCW1  X'09',PRTLINE,0,PRTLNG
00000DA0  40404040 40404040                       4449 PRTLINE  DC    C'         1,000,000 iterations of XXXXX'
00000DC6  40A39696 9240F9F9                       4450          DC    C' took 999,999,999 microseconds'
                              00000044  00000001  4451 PRTLNG   EQU   *-PRTLINE
00000DE4  40202020 6B202020                       4452 EDIT     DC    X'402020206B2020206B202120'
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    17

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4454 ***********************************************************************
                                                  4455 *        TRETEST DSECT
                                                  4456 ***********************************************************************


                                                  4458 TRETEST  DSECT ,


00000000  00                                      4460 TNUM     DC    X'00'          TRE table Number
00000001  00                                      4461 TBYTE    DC    X'00'          TRE Testbyte
00000002  00                                      4462          DC    X'00'
00000003  00                                      4463          DC    X'00'


00000004  00000000                                4465 OP1DATA  DC    A(0)           Pointer to Operand-1 data
00000008  00000000                                4466 OP2DATA  DC    A(0)           Pointer to Operand-2 data
                                                  4467
                              0000000C  00000001  4468 OPSWHERE EQU   *              Where TRE Operands are located
0000000C  00000000                                4469 OP1WHERE DC    A(0)           Where Operand-1 data should be placed
00000010  00000000                                4470 OP1LEN   DC    F'0'           How much data is there - 1
00000014  00000000                                4471 OP2WHERE DC    A(0)           Where Operand-2 data should be placed
                              00000100  00000001  4472 OP2LEN   EQU   256            Operand-2 is always 256


00000018  00000000                                4474 FAILMASK DC    A(0)           Failure Branch on Condition mask


0000001C  00000000 00000000                       4476 ENDREGS  DC    A(0),XL4'00'   Ending R1/R2 register values


                              00000024  00000001  4478 TRENEXT  EQU   *              Start of next table entry...






                              AABBCCDD  00000001  4480 REG2PATT EQU   X'AABBCCDD'    Register 2 starting/ending CC0 value
                              000000DD  00000001  4481 REG2LOW  EQU         X'DD'    (last byte above)
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    18

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                              00000000  000021FF  4483 TRE02TST CSECT ,


                                                  4485 ***********************************************************************
                                                  4486 *        TRE Performace Test data...
                                                  4487 ***********************************************************************
00000DF0                                          4488 TREPERF  DC    0A(0)      start of table




00000DF0  91990000                                4490 TREPOP1  DC    X'91',X'99',X'00',X'00'
00000DF4  00001188 00001C88                       4491          DC    A(TRELOP10),A(TRELOP20)
00000DFC  00020000 00000200                       4492          DC    A(00+(02*K64)),A(512),A(MB+(02*K64))      no crosses
00000E08  00000007                                4493          DC    A(7) CC0
00000E0C  00020200 AABBCCDD                       4494          DC    A(00+(02*K64)+512),A(REG2PATT)




00000E14  92990000                                4496 TREPOP2  DC    X'92',X'99',X'00',X'00'
00000E18  00001188 00001C88                       4497          DC    A(TRELOP10),A(TRELOP20)
00000E20  0002FFF4 00000200                       4498          DC    A(00+(03*K64)-12),A(512),A(MB+(03*K64))   op1 crosses
00000E2C  00000007                                4499          DC    A(7) CC0
00000E30  000301F4 AABBCCDD                       4500          DC    A(00+(03*K64)-12+512),A(REG2PATT)




00000E38  93990000                                4502 TREPOP3  DC    X'93',X'99',X'00',X'00'
00000E3C  00001188 00001C88                       4503          DC    A(TRELOP10),A(TRELOP20)
00000E44  00040000 00000800                       4504          DC    A(00+(04*K64)),A(2048),A(MB+(04*K64))     no crosses
00000E50  00000007                                4505          DC    A(7) CC0
00000E54  00290800 AABBCCDD                       4506          DC    A(00+(041*K64)+2048),A(REG2PATT)




00000E5C  94990000                                4508 TREPOP4  DC    X'94',X'99',X'00',X'00'
00000E60  00001188 00001C88                       4509          DC    A(TRELOP10),A(TRELOP20)
00000E68  0003FFF4 00000800                       4510          DC    A(00+(04*K64)-12),A(2048),A(MB+(04*K64))  op1 crosses
00000E74  00000007                                4511          DC    A(7) CC0
00000E78  002907F4 AABBCCDD                       4512          DC    A(00+(041*K64)-12+2048),A(REG2PATT)







00000E80  00000000                                4514          DC    A(0)        end of table
00000E84  00000000                                4515          DC    A(0)        end of table
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    19

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4517 ***********************************************************************
                                                  4518 *        TRE op1 scan data...
                                                  4519 ***********************************************************************

00000E88  78125634 78125634                       4521 TRTOP10  DC    64XL4'78125634'               (CC0)

00000F88  78125634 78125634                       4523 TRTOP111 DC    04XL4'78125634',X'00110000',59XL4'78125634'    (CC1)

00001088  78125634 78125634                       4525 TRTOP1F0 DC    63XL4'78125634',X'000000F0'    (CC1)
                                                  4526

00001188  78125634 78125634                       4528 TRELOP10 DC    512XL4'78125634'               (CC0)





                                                  4530 ***********************************************************************
                                                  4531 *        TRE op2 stop tables...
                                                  4532 ***********************************************************************

00001988  00000000 00000000                       4534 TRTOP20  DC    256X'00'                   no stop

00001A88  00000000 00000000                       4536 TRTOP211 DC    17X'00',X'11',238X'00'     stop on X'11'

00001B88  00000000 00000000                       4538 TRTOP2F0 DC    240X'00',X'F0',15X'00'     stop on X'F0'

00001C88  FF000000 00000000                       4540 TRELOP20 DC    X'FF',255X'00'
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    20

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4542 ***********************************************************************
                                                  4543 *        Fixed storage locations
                                                  4544 ***********************************************************************





00001D88                      00001D88  000021FD  4546          ORG   TRE02TST+TIMEADDR      (s/b @ X'21FD')

000021FD  00                                      4548 TIMEOPT  DC    X'00'      Set to non-zero to run timing tests









000021FE                      000021FE  000021FE  4550          ORG   TRE02TST+TESTADDR      (s/b @ X'21FE', X'21FF')

000021FE  00                                      4552 TESTNUM  DC    X'00'      Test number of active test
000021FF  00                                      4553 SUBTEST  DC    X'00'      Active test sub-test number
                                                  4554
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    21

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4556 ***********************************************************************
                                                  4557 *        IOCB DSECT
                                                  4558 ***********************************************************************

                                                  4560          DSECTS NAME=IOCB
                                                  4562+IOCB     DSECT
                                                  4563+*     Field usage by: CH SC Description (R->program read-only, X->program read/write)
00000000                                          4564+IOCBDID  DS    0F  +0     R  Device Identifier - Subsystem ID for channel subsystem
00000000  0000                                    4565+         DS    H   +0  R       reserved - must be zeros
00000002  0000                                    4566+IOCBDV   DS    H   +2  R       Channel Unit Device address of I/O operation
00000004  0000                                    4567+IOCBDEV  DS    H   +4  X  X  Device address or device number (R after ENADEV)
00000006  0000                                    4568+IOCBZERO DS    H   +6  R  R  Must be zeros
00000008  00                                      4569+IOCBUM   DS    X   +8  X  X  Unit status test mask
00000009  00                                      4570+IOCBCM   DS    X   +9  X  X  Channel status test mask
0000000A                                          4571+IOCBST   DS    0H  +10 X  X  Input/Output unit and channel status accumulation
0000000A  00                                      4572+IOCBUS   DS    X   +10 R  R  Accumulated unit status
0000000B  00                                      4573+IOCBCS   DS    X   +11 R  R  Accumulated channel status
0000000C  00                                      4574+IOCBUT   DS    X   +14 R  R  Used to test unit status
0000000D  00                                      4575+IOCBCT   DS    X   +13 R  R  Used to test channel status
0000000E  00                                      4576+IOCBSC   DS    X   +14    R  Accumulted subchanel status control
0000000F  00                                      4577+IOCBWAIT DS    X   +15 X  X  Recognized unsolicited interruption unit status events
00000010  00000000                                4578+IOCBSCCW DS    A   +16 R  R  I/O status CCW address
00000014                                          4579+IOCBSCNT DS    0F  +20 R  R  I/O status residual count as a positive full word
00000014  0000                                    4580+         DS    H   +20 R     reserved must be zeros
00000016  0000                                    4581+IOCBRCNT DS    H   +22 R     I/O status residual count as an unsigned halfword
00000018                                          4582+IOCBCAW  DS    0A  +24 X     Channel Address word
00000018  00000000 00000000                       4583+IOCBORB  DS    AD  +24    X  Address of the ORB for channel subsystem I/O
00000020  00000000 00000000                       4584+IOCBIRB  DS    AD  +32    X  Channel subsystem IRB address
00000028  00000000 00000000                       4585+IOCBSIB  DS    AD  +40    X  Channel subsystem SCHIB address
                              00000030  00000001  4586+IOCBL    EQU   *-IOCB  Length of IOCB control block (48) without embedded structures
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    22

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4588 ***********************************************************************
                                                  4589 *        ORB DSECT
                                                  4590 ***********************************************************************

                                                  4592          DSECTS NAME=ORB
                                                  4594+ORB      DSECT
00000000  00000000                                4595+ORBPARM  DC    F'0'     Word 0, bits 0-31

00000004  00                                      4597+ORB1_0   DC    X'00'    Word 1, bits 0-7
                              000000F0  00000001  4598+ORBKEYM  EQU   X'F0'    Word 1, bits 0-3   - Storage Key Mask
                              00000008  00000001  4599+ORBS     EQU   X'08'    Word 1, bit 4      - Suspend Control
                              00000004  00000001  4600+ORBC     EQU   X'04'    Word 1, bit 5      - Streaming Mode Control
                              00000002  00000001  4601+ORBM     EQU   X'02'    Word 1, bit 6      - Modification Control
                              00000001  00000001  4602+ORBY     EQU   X'01'    Word 1, bit 7      - Synchronization Control

00000005  00                                      4604+ORB1_8   DC    X'00'    Word 1, bits 8-15
                              00000080  00000001  4605+ORBF     EQU   X'80'    Word 1, bit 8      - CCW Format-Control
                              00000040  00000001  4606+ORBP     EQU   X'40'    Word 1, bit 9      - Pre-fetch control
                              00000020  00000001  4607+ORBI     EQU   X'20'    Word 1, bit 10     - Initial-status Interruption Control
                              00000010  00000001  4608+ORBA     EQU   X'10'    Word 1, bit 11     - Address Limit Checking Control
                              00000008  00000001  4609+ORBU     EQU   X'08'    Word 1, bit 12     - Suppress-suspended-interruption control
                              00000004  00000001  4610+ORBB     EQU   X'04'    Word 1, bit 13     - Channel-Program-Type Control
                              00000002  00000001  4611+ORBH     EQU   X'02'    Word 1, bit 14     - Format 2-IDAW Control
                              00000001  00000001  4612+ORBT     EQU   X'01'    Word 1, bit 15     - 2K-IDAW control
00000006  00                                      4613+ORBLPM   DC    X'00'    Word 1, bits 16-23 - Logical Path Mask
00000007  00                                      4614+ORRB1_24 DC    X'00'    Word 1, bits 24-31
                              00000080  00000001  4615+ORBL     EQU   X'80'    Word 1, bit 24     - Incorrect Length Suppression Mode
                              0000007F  00000001  4616+ORBRSV3  EQU   X'7F'    Word 1, bits 25-31 - reserved must be zeros
                              00000040  00000001  4617+ORBD     EQU   X'40'    Word 1, bit 25     - MIDAW Addressing Control
                              0000003E  00000001  4618+ORBRSV26 EQU   X'3E'    Word 1, bits 26-30 - reserved must be zeros
                              0000007E  00000001  4619+ORBRSV25 EQU   X'7E'    Word 1, bits 25-30 - reserved must be zeros
                              00000001  00000001  4620+ORBX     EQU   X'01'    Word 1, bit 31     - ORB-extension control

00000008  00000000                                4622+ORBCCW   DC    A(0)     Word 2, bits 1-31  - Channel Program Address
                              00000080  00000001  4623+ORBRSV4  EQU   X'80'    Word 2, bit 0      - reserved must be zero
                              0000000C  00000001  4624+ORBLEN   EQU   *-ORB Length of standard ORB
                                                  4625+* Extended ORB fields
0000000C  00                                      4626+ORBCSS   DC    X'00'    Word 3, bits 0-7   - Channel Subsystem Priority
0000000D  00                                      4627+ORBRSV5  DC    X'00'    Word 3, bits 8-15  - reserved must be zeros
0000000E                                          4628+ORBPGM   DC    0X'00'   Word 3, bits 16-23 - Transport mode reserves for program use
0000000E  00                                      4629+ORBCU    DC    X'00'    Word 3, bits 16-23 - Control Unit Priority
0000000F  00                                      4630+ORBRSV6  DC    X'00'    Word 3, bits 24-31 - reserved must be zeros
00000010  00000000 00000000                       4631+ORBRSV7  DC    XL16'00' Words 4-7          - reserved must be zeros
                              00000020  00000001  4632+ORBXLEN  EQU   *-ORB Length of extended ORB

ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    23

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4635 ***********************************************************************
                                                  4636 *        IRB DSECT
                                                  4637 ***********************************************************************

                                                  4639          DSECTS NAME=IRB
                                                  4641+IRB      DSECT Interruption          Response Block
00000000  00000000 00000000                       4642+IRBSCSW  DC    XL12'00' Words 0-2 - Subchannel Status Word (Defined by DSECT SCSW)
0000000C  00000000 00000000                       4643+IRBESW   DC    XL20'00' Words 3-7 - Extended Status Word
00000020  00000000 00000000                       4644+IRBECW   DC    XL32'00' Words 8-15 - Extended Control Word
                              00000040  00000001  4645+IRBL     EQU   *-IRB    IRB Length
00000040  00000000 00000000                       4646+IRBEMW   DC    XL32'00' Words 16-23 - Extended Measurement Word
                              00000060  00000001  4647+IRBXL    EQU   *-IRB    Extended IRB Length

ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    24

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4650 ***********************************************************************
                                                  4651 *        SCSW DSECT
                                                  4652 ***********************************************************************

                                                  4654          DSECTS NAME=SCSW
                                                  4656+SCSW     DSECT Subchannel          Status Word
00000000  00                                      4657+SCSWFLAG DC    X'00'    Flags
                              000000F0  00000001  4658+SCSWKEYM EQU   X'F0'    Storage Key Mask of subchannel storage key
                              00000008  00000001  4659+SCSWSUSC EQU   X'08'    Suspend Control
                              00000004  00000001  4660+SCSWESWF EQU   X'04'    Extended Status Word Format
                              00000003  00000001  4661+SCSWDCCM EQU   X'03'    Deferred condiont code mask
                              00000000  00000001  4662+SCSWDCC0 EQU   X'00'    Normal I/O interruption
                              00000001  00000001  4663+SCSWDCC1 EQU   X'01'    Deferred condition code is 1
                              00000003  00000001  4664+SCSWDCC3 EQU   X'03'    Deferred condition code is 3

00000001  00                                      4666+SCSWCTLS DC    X'00'    General Controls
                              00000080  00000001  4667+SCSWCCWF EQU   X'80'    CCW Format control when ...
                              00000040  00000001  4668+SCSWCCWP EQU   X'40'    CCW Prefetch Control
                              00000020  00000001  4669+SCSWISIC EQU   X'20'    Initial-Status-Interruption Control
                              00000010  00000001  4670+SCSWALKC EQU   X'10'    Address-Limit-Checking Control
                              00000008  00000001  4671+SCSWSSIC EQU   X'08'    Suppress suspended interruption
                              00000004  00000001  4672+SCSW0CC  EQU   X'04'    Zero-Condition Code
                              00000002  00000001  4673+SCSWECWC EQU   X'02'    Extended Control Word control
                              00000001  00000001  4674+SCSWPNOP EQU   X'01'    Path Not Operational

00000002  00                                      4676+SCSW1    DC    X'00'    Control Byte 1
                              00000070  00000001  4677+SCSWFM   EQU   X'70'    Functional Control Mask
                              00000040  00000001  4678+SCSWFS   EQU   X'40'    Function Control - Start Function
                              00000020  00000001  4679+SCSWFH   EQU   X'20'    Function Control - Halt Function
                              00000010  00000001  4680+SCSWFC   EQU   X'10'    Function Control - Clear Function
                              00000008  00000001  4681+SCSWARP  EQU   X'08'    Activity Control - Resume pending
                              00000004  00000001  4682+SCSWASP  EQU   X'04'    Activity Control - Start pending
                              00000002  00000001  4683+SCSWAHP  EQU   X'02'    Activity Control - Halt pending
                              00000001  00000001  4684+SCSWACP  EQU   X'01'    Activity Control - Clear pending
00000003  00                                      4685+SCSW2    DC    X'00'    Control Byte 2
                              00000080  00000001  4686+SCSWASA  EQU   X'80'    Activity Control - Subchannel Active
                              00000040  00000001  4687+SCSWADA  EQU   X'40'    Activity Control - Device Active
                              00000020  00000001  4688+SCSWASUS EQU   X'20'    Activity Control - Suspended
                              00000010  00000001  4689+SCSWSAS  EQU   X'10'    Status Control   - Alert Status
                              00000008  00000001  4690+SCSWSINT EQU   X'08'    Status Control   - Intermediate Status
                              00000004  00000001  4691+SCSWSPRI EQU   X'04'    Status Control   - Primary Status
                              00000002  00000001  4692+SCSWSSEC EQU   X'02'    Status Control   - Secondary Status
                              00000001  00000001  4693+SCSWSPEN EQU   X'01'    Status Control   - Status Pending

00000004  00000000                                4695+SCSWCCW  DC    A(0)     CCW Address

00000008  00                                      4697+SCSWUS   DC    X'00'    Unit Status
                              00000080  00000001  4698+SCSWATTN EQU   X'80'    Attention
                              00000040  00000001  4699+SCSWSM   EQU   X'40'    Status modifier
                              00000020  00000001  4700+SCSWCUE  EQU   X'20'    Control-unit end
                              00000010  00000001  4701+SCSWBUSY EQU   X'10'    Busy
                              00000008  00000001  4702+SCSWCE   EQU   X'08'    Channel end
                              00000004  00000001  4703+SCSWDE   EQU   X'04'    Device end
                              00000002  00000001  4704+SCSWUC   EQU   X'02'    Unit check
                              00000001  00000001  4705+SCSWUX   EQU   X'01'    Unit exception
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    25

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

00000009  00                                      4707+SCSWCS   DC    X'00'    Channel Status
                              00000080  00000001  4708+SCSWPCI  EQU   X'80'    Program-controlled interruption
                              00000040  00000001  4709+SCSWIL   EQU   X'40'    Incorrect length
                              00000020  00000001  4710+SCSWPRGM EQU   X'20'    Program check
                              00000010  00000001  4711+SCSWPROT EQU   X'10'    Protection Check
                              00000008  00000001  4712+SCSWCDAT EQU   X'08'    Channel-data check
                              00000004  00000001  4713+SCSWCCTL EQU   X'04'    Channel-control check
                              00000002  00000001  4714+SCSWICTL EQU   X'02'    Interface-control check
                              00000001  00000001  4715+SCSWCHNG EQU   X'01'    Chaining check

0000000A  0000                                    4717+SCSWCNT  DC    H'0'     Residual CCW count
                              0000000C  00000001  4718+SCSWL    EQU   *-SCSW

ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    26

  LOC        OBJECT CODE       ADDR1     ADDR2    STMT

                                                  4721 ***********************************************************************
                                                  4722 *        (other DSECTS needed by SATK)
                                                  4723 ***********************************************************************

                                                  4725          DSECTS PRINT=OFF,NAME=(ASA,SCHIB,CCW0,CCW1,CSW)













                                                  5001          PRINT ON

                                                  5003 ***********************************************************************
                                                  5004 *        Register equates
                                                  5005 ***********************************************************************


                              00000000  00000001  5007 R0       EQU   0
                              00000001  00000001  5008 R1       EQU   1
                              00000002  00000001  5009 R2       EQU   2
                              00000003  00000001  5010 R3       EQU   3
                              00000004  00000001  5011 R4       EQU   4
                              00000005  00000001  5012 R5       EQU   5
                              00000006  00000001  5013 R6       EQU   6
                              00000007  00000001  5014 R7       EQU   7
                              00000008  00000001  5015 R8       EQU   8
                              00000009  00000001  5016 R9       EQU   9
                              0000000A  00000001  5017 R10      EQU   10
                              0000000B  00000001  5018 R11      EQU   11
                              0000000C  00000001  5019 R12      EQU   12
                              0000000D  00000001  5020 R13      EQU   13
                              0000000E  00000001  5021 R14      EQU   14
                              0000000F  00000001  5022 R15      EQU   15








                                                  5024          END
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    27

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

ASA                 4    00000000         512  4729  3549
ASBEGIN             U    00000000           1  4730  4735  4777  4813  4822  4840  4847  4853  4857  4861  4867  4884
ASEND               U    00000200           1  4883  4884
ASLENGTH            U    00000200           1  4884
BCEXTCOD            H    0000001A           2  4747
BCIOCOD             H    0000003A           2  4755
BCMCKCOD            H    00000032           2  4753
BCPGMCOD            H    0000002A           2  4751
BCSVCCOD            H    00000022           2  4749
BEGCLOCK            D    00000D60           8  4439  3626  3844  4260  4263  4270
BEGIN               I    00000200           2  3555  3523  3550  3551
CALCDUR             I    00000B8C           4  4257  3838  4185
CALCRET             F    00000BD0           4  4279  4257  4276
CALCWORK            F    00000BD4           4  4280  4258  4275
CAW                 F    00000048           4  4759
CAWADDR             R    00000049           3  4762
CAWKEY              X    00000048           1  4760
CAWSUSP             U    00000008           1  4761
CCW0                4    00000000           8  4888  4894
CCW0ADDR            R    00000001           3  4890
CCW0CNT             H    00000006           2  4893
CCW0CODE            X    00000000           1  4889
CCW0FLGS            X    00000004           1  4891
CCW0L               U    00000008           1  4894
CCW1                4    00000000           8  4906  4911
CCW1ADDR            A    00000004           4  4910
CCW1CNT             H    00000002           2  4909
CCW1CODE            X    00000000           1  4907
CCW1FLGS            X    00000001           1  4908
CCW1L               U    00000008           1  4911
CCWCC               U    00000040           1  4898
CCWCD               U    00000080           1  4897
CCWIDA              U    00000004           1  4902
CCWPCI              U    00000008           1  4901
CCWSKIP             U    00000010           1  4900
CCWSLI              U    00000020           1  4899
CCWSUSP             U    00000002           1  4903
CHANID              F    000000A8           4  4814
CODE                2    00000000        8704  3504
CONPGM              W    00000D98           8  4448  4416
CPUID               U    0000031B           1  4886
CSW                 F    00000040           8  4758
CSWATTN             U    00000080           1  4928
CSWBUSY             U    00000010           1  4931
CSWCCTL             U    00000004           1  4943
CSWCCW              R    00000001           3  4925
CSWCDAT             U    00000008           1  4942
CSWCE               U    00000008           1  4932  4244
CSWCHNG             U    00000001           1  4945
CSWCNT              H    00000006           2  4947
CSWCS               X    00000005           1  4937
CSWCUE              U    00000020           1  4930
CSWDCC0             U    00000000           1  4921
CSWDCC1             U    00000001           1  4922
CSWDCC3             U    00000003           1  4923
CSWDCCM             U    00000003           1  4920
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    28

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

CSWDE               U    00000004           1  4933  4244
CSWFLAG             X    00000000           1  4915
CSWFMT              4    00000000           8  4914  4948
CSWFMTL             U    00000008           1  4948
CSWICTL             U    00000002           1  4944
CSWIL               U    00000040           1  4939
CSWKEYM             U    000000F0           1  4916
CSWLOG              U    00000004           1  4919
CSWPCI              U    00000080           1  4938
CSWPRGM             U    00000020           1  4940
CSWPROT             U    00000010           1  4941
CSWSM               U    00000040           1  4929
CSWSUSP             U    00000008           1  4918
CSWUC               U    00000002           1  4934
CSWUS               X    00000004           1  4927
CSWUX               U    00000001           1  4935
DURATION            D    00000D70           8  4441  3839  4188  4189  4192  4272
DWAT0010            3    00000C30           8  4324  4323
DWAT0011            3    00000C40           8  4329  4328
DWAT0012            3    00000C50           8  4334  4333
DWAT0013            3    00000C60           8  4339  4338
EDIT                X    00000DE4          12  4452  4202  4203
ENADEV              I    00000C76           4  4358  4312
ENAOKAY             I    00000CC4           2  4383  4372
ENDCLOCK            D    00000D68           8  4440  3837  4164  4265  4268  4271
ENDREGS             A    0000001C           4  4476
EOJ                 H    00000C2A           2  4322  3574  3582
EXTCPUAD            H    00000084           2  4779
EXTICODE            H    00000086           2  4780
EXTIPARM            F    00000080           4  4778
EXTNPSW             F    00000058           8  4768
EXTOPSW             F    00000018           8  4740  4746
FAILDEV             H    00000C38           2  4327  4363  4373  4378
FAILIO              H    00000C48           2  4332  4212  4235  4245
FAILMASK            A    00000018           4  4474
FAILTEST            H    00000C58           2  4337  3577  3580
FIND0015            A    00000CBC           4  4380  4358
FINL0015            H    00000C7E           2  4361  4377
FINM0015            A    00000CC0           4  4381  4376
FINN0015            H    00000CAC           2  4374  4365  4367
IIRB0016            F    00000CF8           4  4408  4404  4406
IMAGE               1    00000000        8704     0
INIT                H    00000C18           2  4306  3563
IOCB                4    00000000          48  4562  4586  3552
IOCBCAW             A    00000018           4  4582
IOCBCM              X    00000009           1  4570
IOCBCS              X    0000000B           1  4573
IOCBCT              X    0000000D           1  4575
IOCBDEV             H    00000004           2  4567  4366
IOCBDID             F    00000000           4  4564  4208  4369
IOCBDV              H    00000002           2  4566
IOCBIRB             A    00000020           8  4584  4213
IOCBL               U    00000030           1  4586
IOCBORB             A    00000018           8  4583  4210  4309
IOCBRCNT            H    00000016           2  4581  4242
IOCBSC              X    0000000E           1  4576  4206  4237  4239
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    29

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

IOCBSCCW            A    00000010           4  4578  4241
IOCBSCNT            F    00000014           4  4579
IOCBSIB             A    00000028           8  4585  4359
IOCBST              H    0000000A           2  4571  4207  4238
IOCBUM              X    00000008           1  4569
IOCBUS              X    0000000A           1  4572  4244
IOCBUT              X    0000000C           1  4574
IOCBWAIT            X    0000000F           1  4577
IOCBZERO            H    00000006           2  4568  4207
IOCB_009            A    00000CC8           4  4391  4308
IOELADDR            F    000000AC           4  4815
IOICODE             H    000000BA           2  4820
IOIID               F    000000C0           4  4825
IOINIT              I    00000C68           4  4346  4311
IOIPARM             F    000000BC           4  4824
IOMK0014            F    00000C70           4  4348  4346  4347
ION0008             3    00000B30           8  4223  4220
IONPSW              F    00000078           8  4772
IOOPSW              F    00000038           8  4744  4754
IORB0016            X    00000D38          12  4410  4402
IOS0008             X    00000B38           8  4224  4219  4227
IOSSID              F    000000B8           4  4823  4230
IOWT0007            H    00000B16           2  4217  4231  4234  4240
IPLCCW1             F    00000008           8  4732
IPLCCW2             F    00000010           8  4733
IPLPSW              F    00000000           8  4731
IRB                 4    00000000          96  4641  4645  4647  4214
IRBECW              X    00000020          32  4644
IRBEMW              X    00000040          32  4646
IRBESW              X    0000000C          20  4643
IRBL                U    00000040           1  4645
IRBSCSW             X    00000000          12  4642  4237  4238  4241  4242
IRBXL               U    00000060           1  4647
IRST0008            H    00000B40           2  4226  4223
K                   U    00000400           1  4429  4430  4431  4432
K64                 U    00010000           1  4431  4492  4494  4498  4500  4504  4506  4510  4512
LCHANLOG            F    000000B0           4  4816
MB                  U    00100000           1  4432  4492  4498  4504  4510
MCKLOG              F    00000100           4  4848
MCKNPSW             F    00000070           8  4771
MCKOPSW             F    00000030           8  4743  4752
MEASUREB            X    000000B9           1  4819
MKARCHMD            X    000000A3           1  4807
MKARS               F    00000120           4  4846
MKCLKCMP            F    000000E0           8  4832
MKCPUTIM            F    000000D8           8  4831
MKCRS               F    000001C0           4  4851
MKDMGCOD            F    000000F4           4  4835
MKFAILA             F    000000F8           4  4837
MKFPRS              D    00000160           8  4849
MKICODE             F    000000E8           4  4833
MKLOGOUT            F    00000100           4  4839
MKMODEL             F    000000FC           4  4838
MKXSAA              F    000000D4           4  4830
MONCLS              H    00000094           2  4795
MONCODE             F    0000009C           4  4802
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    30

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

MONNUMBR            X    00000095           1  4797
MPGACCID            X    000000A2           1  4805
NKGRS               F    00000180           4  4850
NUMLOOPS            F    00000D5C           4  4437  3625  3843
OP1DATA             A    00000004           4  4465  3611
OP1LEN              F    00000010           4  4470  3610  3612
OP1WHERE            A    0000000C           4  4469  3609
OP2DATA             A    00000008           4  4466  3617
OP2LEN              U    00000100           1  4472  3616
OP2WHERE            A    00000014           4  4471  3615
OPSWHERE            U    0000000C           1  4468  3629  3632  3637  3639  3641  3643  3645  3647  3649  3651  3653  3655  3657
                                                     3659  3661  3663  3665  3667  3669  3671  3673  3675  3677  3679  3681  3683
                                                     3685  3687  3689  3691  3693  3695  3697  3699  3701  3703  3705  3707  3709
                                                     3711  3713  3715  3717  3719  3721  3723  3725  3727  3729  3731  3733  3735
                                                     3737  3739  3741  3743  3745  3747  3749  3751  3753  3755  3757  3759  3761
                                                     3763  3765  3767  3769  3771  3773  3775  3777  3779  3781  3783  3785  3787
                                                     3789  3791  3793  3795  3797  3799  3801  3803  3805  3807  3809  3811  3813
                                                     3815  3817  3819  3821  3823  3825  3827  3831  3833  3847  3850  3857  3860
                                                     3863  3866  3869  3872  3875  3878  3881  3884  3888  3891  3894  3897  3900
                                                     3903  3906  3909  3912  3915  3919  3922  3925  3928  3931  3934  3937  3940
                                                     3943  3946  3950  3953  3956  3959  3962  3965  3968  3971  3974  3977  3981
                                                     3984  3987  3990  3993  3996  3999  4002  4005  4008  4012  4015  4018  4021
                                                     4024  4027  4030  4033  4036  4039  4043  4046  4049  4052  4055  4058  4061
                                                     4064  4067  4070  4074  4077  4080  4083  4086  4089  4092  4095  4098  4101
                                                     4105  4108  4111  4114  4117  4120  4123  4126  4129  4132  4136  4139  4142
                                                     4145  4148  4151  4156  4159
ORB                 4    00000000          32  4594  4624  4632  3553
ORB1_0              X    00000004           1  4597
ORB1_8              X    00000005           1  4604
ORBA                U    00000010           1  4608
ORBB                U    00000004           1  4610
ORBC                U    00000004           1  4600
ORBCCW              A    00000008           4  4622
ORBCSS              X    0000000C           1  4626
ORBCU               X    0000000E           1  4629
ORBD                U    00000040           1  4617
ORBF                U    00000080           1  4605
ORBH                U    00000002           1  4611
ORBI                U    00000020           1  4607
ORBKEYM             U    000000F0           1  4598
ORBL                U    00000080           1  4615
ORBLEN              U    0000000C           1  4624
ORBLPM              X    00000006           1  4613
ORBM                U    00000002           1  4601
ORBP                U    00000040           1  4606
ORBPARM             F    00000000           4  4595
ORBPGM              X    0000000E           1  4628
ORBRSV25            U    0000007E           1  4619
ORBRSV26            U    0000003E           1  4618
ORBRSV3             U    0000007F           1  4616
ORBRSV4             U    00000080           1  4623
ORBRSV5             X    0000000D           1  4627
ORBRSV6             X    0000000F           1  4630
ORBRSV7             X    00000010          16  4631
ORBS                U    00000008           1  4599
ORBT                U    00000001           1  4612
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    31

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

ORBU                U    00000008           1  4609
ORBX                U    00000001           1  4620
ORBXLEN             U    00000020           1  4632
ORBY                U    00000001           1  4602
ORRB1_24            X    00000007           1  4614
OVERHEAD            D    00000D78           8  4442  3839  4187
PAGE                U    00001000           1  4430  4434
PCFETO              A    000000C4           4  4826
PERACCID            X    000000A1           1  4804
PERADDR             F    00000098           4  4801
PERCODE             X    00000096           1  4798
PERCODMK            U    000000F0           1  4799
PGMACCID            X    000000A0           1  4803
PGMDXC              F    00000090           4  4793
PGMICODE            H    0000008E           2  4792
PGMIID              F    0000008C           4  4788
PGMIILC             X    0000008D           1  4790
PGMIILCM            U    0000000C           1  4791
PGMNPSW             F    00000068           8  4770
PGMOPSW             F    00000028           8  4742  4750
PGMTRX              F    00000090           4  4794
PMCW1_0             X    00000004           1  4955
PMCW1_8             X    00000005           1  4958  4364  4370
PMCWB               U    00000004           1  4990
PMCWCHP0            X    00000010           1  4979
PMCWCHP1            X    00000011           1  4980
PMCWCHP2            X    00000012           1  4981
PMCWCHP3            X    00000013           1  4982
PMCWCHP4            X    00000014           1  4983
PMCWCHP5            X    00000015           1  4984
PMCWCHP6            X    00000016           1  4985
PMCWCHP7            X    00000017           1  4986
PMCWDNUM            H    00000006           2  4970  4366
PMCWE               U    00000080           1  4959  4370
PMCWEXC             X    0000001B           1  4989
PMCWIP              F    00000000           4  4954
PMCWISCM            U    00000038           1  4956
PMCWLM              U    00000060           1  4960
PMCWLMG             U    00000020           1  4961
PMCWLML             U    00000040           1  4962
PMCWLPM             X    00000008           1  4972
PMCWLPUM            X    0000000A           1  4974
PMCWM               U    00000004           1  4966
PMCWMBI             H    0000000C           2  4976
PMCWMM              U    00000018           1  4963
PMCWMMC             U    00000008           1  4965
PMCWMME             U    00000010           1  4964
PMCWPAM             X    0000000F           1  4978
PMCWPIM             X    0000000B           1  4975
PMCWPNOM            X    00000009           1  4973
PMCWPOM             X    0000000E           1  4977
PMCWRES1            X    00000018           4  4987
PMCWRES2            X    00000018           3  4988
PMCWS               U    00000001           1  4992
PMCWT               U    00000002           1  4967
PMCWV               U    00000001           1  4968  4364
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    32

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

PMCWX               U    00000002           1  4991
PRTLINE             C    00000DA0          38  4449  4451  4166  4202  4203  4448
PRTLNG              U    00000044           1  4451  4448
R0                  U    00000000           1  5007  3549  3621
R1                  U    00000001           1  5008  4176
R10                 U    0000000A           1  5017  3609  3613  3629  3630  3632  3637  3639  3641  3643  3645  3647  3649  3651
                                                     3653  3655  3657  3659  3661  3663  3665  3667  3669  3671  3673  3675  3677
                                                     3679  3681  3683  3685  3687  3689  3691  3693  3695  3697  3699  3701  3703
                                                     3705  3707  3709  3711  3713  3715  3717  3719  3721  3723  3725  3727  3729
                                                     3731  3733  3735  3737  3739  3741  3743  3745  3747  3749  3751  3753  3755
                                                     3757  3759  3761  3763  3765  3767  3769  3771  3773  3775  3777  3779  3781
                                                     3783  3785  3787  3789  3791  3793  3795  3797  3799  3801  3803  3805  3807
                                                     3809  3811  3813  3815  3817  3819  3821  3823  3825  3827  3831  3833  3847
                                                     3848  3850  3851  3857  3858  3860  3861  3863  3864  3866  3867  3869  3870
                                                     3872  3873  3875  3876  3878  3879  3881  3882  3884  3885  3888  3889  3891
                                                     3892  3894  3895  3897  3898  3900  3901  3903  3904  3906  3907  3909  3910
                                                     3912  3913  3915  3916  3919  3920  3922  3923  3925  3926  3928  3929  3931
                                                     3932  3934  3935  3937  3938  3940  3941  3943  3944  3946  3947  3950  3951
                                                     3953  3954  3956  3957  3959  3960  3962  3963  3965  3966  3968  3969  3971
                                                     3972  3974  3975  3977  3978  3981  3982  3984  3985  3987  3988  3990  3991
                                                     3993  3994  3996  3997  3999  4000  4002  4003  4005  4006  4008  4009  4012
                                                     4013  4015  4016  4018  4019  4021  4022  4024  4025  4027  4028  4030  4031
                                                     4033  4034  4036  4037  4039  4040  4043  4044  4046  4047  4049  4050  4052
                                                     4053  4055  4056  4058  4059  4061  4062  4064  4065  4067  4068  4070  4071
                                                     4074  4075  4077  4078  4080  4081  4083  4084  4086  4087  4089  4090  4092
                                                     4093  4095  4096  4098  4099  4101  4102  4105  4106  4108  4109  4111  4112
                                                     4114  4115  4117  4118  4120  4121  4123  4124  4126  4127  4129  4130  4132
                                                     4133  4136  4137  4139  4140  4142  4143  4145  4146  4148  4149  4151  4152
                                                     4156  4157  4159  4160  4287  4289  4294  4297
R11                 U    0000000B           1  5018  3610  4289  4291
R12                 U    0000000C           1  5019  3615  3619  3629  3630  3632  3637  3639  3641  3643  3645  3647  3649  3651
                                                     3653  3655  3657  3659  3661  3663  3665  3667  3669  3671  3673  3675  3677
                                                     3679  3681  3683  3685  3687  3689  3691  3693  3695  3697  3699  3701  3703
                                                     3705  3707  3709  3711  3713  3715  3717  3719  3721  3723  3725  3727  3729
                                                     3731  3733  3735  3737  3739  3741  3743  3745  3747  3749  3751  3753  3755
                                                     3757  3759  3761  3763  3765  3767  3769  3771  3773  3775  3777  3779  3781
                                                     3783  3785  3787  3789  3791  3793  3795  3797  3799  3801  3803  3805  3807
                                                     3809  3811  3813  3815  3817  3819  3821  3823  3825  3827  3831  3833  3847
                                                     3848  3850  3851  3857  3858  3860  3861  3863  3864  3866  3867  3869  3870
                                                     3872  3873  3875  3876  3878  3879  3881  3882  3884  3885  3888  3889  3891
                                                     3892  3894  3895  3897  3898  3900  3901  3903  3904  3906  3907  3909  3910
                                                     3912  3913  3915  3916  3919  3920  3922  3923  3925  3926  3928  3929  3931
                                                     3932  3934  3935  3937  3938  3940  3941  3943  3944  3946  3947  3950  3951
                                                     3953  3954  3956  3957  3959  3960  3962  3963  3965  3966  3968  3969  3971
                                                     3972  3974  3975  3977  3978  3981  3982  3984  3985  3987  3988  3990  3991
                                                     3993  3994  3996  3997  3999  4000  4002  4003  4005  4006  4008  4009  4012
                                                     4013  4015  4016  4018  4019  4021  4022  4024  4025  4027  4028  4030  4031
                                                     4033  4034  4036  4037  4039  4040  4043  4044  4046  4047  4049  4050  4052
                                                     4053  4055  4056  4058  4059  4061  4062  4064  4065  4067  4068  4070  4071
                                                     4074  4075  4077  4078  4080  4081  4083  4084  4086  4087  4089  4090  4092
                                                     4093  4095  4096  4098  4099  4101  4102  4105  4106  4108  4109  4111  4112
                                                     4114  4115  4117  4118  4120  4121  4123  4124  4126  4127  4129  4130  4132
                                                     4133  4136  4137  4139  4140  4142  4143  4145  4146  4148  4149  4151  4152
                                                     4156  4157  4159  4160  4192  4193  4195  4290  4293  4294  4295
R13                 U    0000000D           1  5020  3616  4192  4196  4287  4290  4291  4295  4297
R14                 U    0000000E           1  5021  3563  3567  3596  4178  4313
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    33

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

R15                 U    0000000F           1  5022  3589  3838  4167  4184  4185  4190  4248  4249  4257  4273  4276  4277  4298
                                                     4311  4312  4351  4383
R2                  U    00000002           1  5009  3550  3555  3556  3557  3558  3560  4177
R3                  U    00000003           1  5010  3552  4308
R4                  U    00000004           1  5011
R5                  U    00000005           1  5012  3598  3599  3602  4171  4172  4173  4187  4258  4270  4275  4289
R6                  U    00000006           1  5013  3604  3605  3611  3613  3617  3619  3627  3836  3845  4163  4188  4260  4261
                                                     4262  4263  4265  4266  4267  4268  4271  4290
R7                  U    00000007           1  5014  3612  3618  3625  3836  3843  4163  4189  4258  4260  4263  4265  4268  4272
                                                     4275  4295
R8                  U    00000008           1  5015  3553  4309
R9                  U    00000009           1  5016  3551  3560  3561
REG2LOW             U    000000DD           1  4481
REG2PATT            U    AABBCCDD           1  4480  4494  4500  4506  4512
RPTSAVE             F    00000B88           4  4251  4184  4248
RPTSPEED            I    00000AB2           4  4184  4167
RSTNPSW             F    00000000           8  4736
RSTOPSW             F    00000008           8  4737
SAVER1              F    00000238           4  3584  4176
SAVER2              F    0000023C           4  3585  3558  4177
SAVER5              F    00000240           4  3586  3602  4171
SAVETRT             D    00000248           8  3587
SCANOUT             X    00000080           1  4774  4775
SCANOUTL            U    00000000           1  4775
SCHIB               4    00000000          52  4951  4998  4360
SCHIBL              U    00000034           1  4998
SCHMBA              A    00000028           8  4996
SCHMDA1             X    00000030           4  4997
SCHMDA3             X    00000028          12  4995
SCHPMCW             X    00000000          28  4953
SCHSCSW             X    0000001C          12  4994
SCSW                4    00000000          12  4656  4718
SCSW0CC             U    00000004           1  4672
SCSW1               X    00000002           1  4676
SCSW2               X    00000003           1  4685  4237
SCSWACP             U    00000001           1  4684
SCSWADA             U    00000040           1  4687
SCSWAHP             U    00000002           1  4683
SCSWALKC            U    00000010           1  4670
SCSWARP             U    00000008           1  4681
SCSWASA             U    00000080           1  4686
SCSWASP             U    00000004           1  4682
SCSWASUS            U    00000020           1  4688
SCSWATTN            U    00000080           1  4698
SCSWBUSY            U    00000010           1  4701
SCSWCCTL            U    00000004           1  4713
SCSWCCW             A    00000004           4  4695  4241
SCSWCCWF            U    00000080           1  4667
SCSWCCWP            U    00000040           1  4668
SCSWCDAT            U    00000008           1  4712
SCSWCE              U    00000008           1  4702
SCSWCHNG            U    00000001           1  4715
SCSWCNT             H    0000000A           2  4717  4242
SCSWCS              X    00000009           1  4707
SCSWCTLS            X    00000001           1  4666
SCSWCUE             U    00000020           1  4700
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    34

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

SCSWDCC0            U    00000000           1  4662
SCSWDCC1            U    00000001           1  4663
SCSWDCC3            U    00000003           1  4664
SCSWDCCM            U    00000003           1  4661
SCSWDE              U    00000004           1  4703
SCSWECWC            U    00000002           1  4673
SCSWESWF            U    00000004           1  4660
SCSWFC              U    00000010           1  4680
SCSWFH              U    00000020           1  4679
SCSWFLAG            X    00000000           1  4657
SCSWFM              U    00000070           1  4677
SCSWFS              U    00000040           1  4678
SCSWICTL            U    00000002           1  4714
SCSWIL              U    00000040           1  4709
SCSWISIC            U    00000020           1  4669
SCSWKEYM            U    000000F0           1  4658
SCSWL               U    0000000C           1  4718
SCSWPCI             U    00000080           1  4708
SCSWPNOP            U    00000001           1  4674
SCSWPRGM            U    00000020           1  4710
SCSWPROT            U    00000010           1  4711
SCSWSAS             U    00000010           1  4689
SCSWSINT            U    00000008           1  4690
SCSWSM              U    00000040           1  4699
SCSWSPEN            U    00000001           1  4693
SCSWSPRI            U    00000004           1  4691  4239
SCSWSSEC            U    00000002           1  4692
SCSWSSIC            U    00000008           1  4671
SCSWSUSC            U    00000008           1  4659
SCSWUC              U    00000002           1  4704
SCSWUS              X    00000008           1  4697  4238
SCSWUX              U    00000001           1  4705
SSARCHMD            X    000000A3           1  4806
SSARS               F    00000120           4  4862
SSCLKCMP            F    000000E0           8  4856
SSCPUTIM            F    000000D8           8  4855
SSCRS               F    000001C0           4  4865
SSFPRS              D    00000160           8  4863
SSGRS               F    00000180           4  4864
SSMODEL             F    0000010C           4  4860
SSPREFIX            F    00000108           4  4859
SSPSW               F    00000100           8  4858
SSXSAA              A    000000D4           4  4854
STFLDATA            F    000000C8           4  4827
SUBDWORD            I    00000BE0           4  4287  4190  4273
SUBDWSAV            D    00000C08           8  4300  4287  4297
SUBTEST             X    000021FF           1  4553  3579
SVCICODE            H    0000008A           2  4786
SVCIID              F    00000088           4  4782
SVCIILC             X    00000089           1  4784
SVCIILCM            U    0000000C           1  4785
SVCNPSW             F    00000060           8  4769
SVCOPSW             F    00000020           8  4741  4748
TBYTE               X    00000001           1  4461  3621
TEST91              I    00000250           4  3595  3567
TESTADDR            U    000021FE           1  4434  4435  4550
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    35

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

TESTNUM             X    000021FE           1  4552  3576  3605
TICKSAAA            P    00000D80           8  4444  4195  4198
TICKSBBB            P    00000D88           8  4445  4196  4200
TICKSTOT            P    00000D90           8  4446  4198  4199  4200  4203
TIMEADDR            U    000021FD           1  4435  4546
TIMEOPT             X    000021FD           1  4548  3573  3595
TIMER               F    00000050           4  4765
TNUM                X    00000000           1  4460  3604
TRE02TST            J    00000000        8704  3504  3507  3514  3522  3524  4546  4550
TRELOP10            X    00001188           4  4528  4491  4497  4503  4509
TRELOP20            X    00001C88           1  4540  4491  4497  4503  4509
TRENEXT             U    00000024           1  4478  4172
TREPERF             A    00000DF0           4  4488  3598
TREPOP1             X    00000DF0           1  4490
TREPOP2             X    00000E14           1  4496
TREPOP3             X    00000E38           1  4502
TREPOP4             X    00000E5C           1  4508
TRETEST             4    00000000          36  4458  3599
TRTOP10             X    00000E88           4  4521
TRTOP111            X    00000F88           4  4523
TRTOP1F0            X    00001088           4  4525
TRTOP20             X    00001988           1  4534
TRTOP211            X    00001A88           1  4536
TRTOP2F0            X    00001B88           1  4538
TST91LOP            U    0000025A           1  3601  4174
TTDES               F    00000054           4  4766
UA0                 F    00000010           8  4738
UA1                 F    0000004C           4  4763
UA2                 F    000000A4           4  4808
UA3                 F    000000B4           4  4817
UA4                 X    000000B8           1  4818
UA5                 X    000000CC           8  4828
UA6                 X    000000EC           8  4834
UA7                 F    00000118           8  4845
UA8                 X    00000180          32  4874
WPSW0008            3    00000B28           8  4222  4221
ZBRKADDR            A    00000110           8  4844
ZEMONCNT            F    0000010C           4  4843
ZEMONCTR            A    00000100           8  4841
ZEMONSIZ            F    00000108           4  4842
ZEXTNPSW            X    000001B0          16  4877
ZEXTOPSW            X    00000130          16  4869
ZIONPSW             X    000001F0          16  4881
ZIOOPSW             X    00000170          16  4873
ZMCKNPSW            X    000001E0          16  4880
ZMCKOPSW            X    00000160          16  4872
ZMKFAILA            F    000000F8           8  4836
ZMONCODE            F    000000B0           8  4811
ZPGMNPSW            X    000001D0          16  4879
ZPGMOPSW            X    00000150          16  4871
ZPGMTRX             F    000000A8           8  4810
ZRSTNPSW            X    000001A0          16  4876
ZRSTOPSW            X    00000120          16  4868
ZSASDISP            U    000011C0           1  4882
ZSVCNPSW            X    000001C0          16  4878
ZSVCOPSW            X    00000140          16  4870
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    36

     SYMBOL        TYPE   VALUE      LENGTH    DEFN  REFERENCES

=A(OP2LEN)          A    00000D44           4  4423  3616  3618
=CL5'TRE'           C    00000D50           5  4426  4166
=F'0'               F    00000D48           4  4424  4173
=F'1'               F    00000D4C           4  4425  4293
=P'4294967296'      P    00000D55           6  4427  4199
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    37

 MACRO    DEFN  REFERENCES

ANTR       119
APROB      251
ARCHIND    411   3441
ARCHLVL    552   3440
ASAIPL     678   3520
ASALOAD    758   3503
ASAREA     813   4728
ASAZAREA   998
CPUWAIT   1081   4218
DSECTS    1407   4560   4592   4639   4654   4725
DWAIT     1610   4321   4326   4331   4336
DWAITEND  1667   4320
ENADEV    1675   4357
ESA390    1775
IOCB      1786   4390
IOCBDS    1962   4561
IOFMT     1996   4593   4640   4655   4887   4905   4913   4950
IOINIT    2334   4345
IOTRFR    2375
ORB       2423   4409
POINTER   2612
PSWFMT    2640
RAWAIT    2774
RAWIO     2870   4205
SIGCPU    3028
SMMGR     3086
SMMGRB    3186
TRAP128   3235
TRAP64    3212   3505   3508
TRAPS     3248
ZARCH     3322
ZEROH     3334
ZEROL     3362
ZEROLH    3390
ZEROLL    3413
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    38

   DESC     SYMBOL   SIZE     POS        ADDR

Entry: 0

Image      IMAGE     8704  0000-21FF  0000-21FF
  Region   CODE      8704  0000-21FF  0000-21FF
    CSECT  TRE02TST  8704  0000-21FF  0000-21FF
ASMA Ver. 0.2.1              TRE-02-performance (Test TRE instructions)                             15 Oct 2022 14:56:36  Page    39

   STMT                  FILE NAME

1     /devstor/dev/tests/TRE-02-performance.asm
2     /home/tn529/dev/SATK/srcasm/satk.mac


** NO ERRORS FOUND **

